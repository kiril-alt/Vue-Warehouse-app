!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).VueWarehouseSync={})}(this,(function(e){"use strict";var t={action:void 0,key:"",value:void 0,oldValue:void 0};function n(e,n,o){n&&o&&n.addPlugin(o);var u=e;return e||(u=t),Object.freeze(u)}e.default=function(e,o,u){var i=(u||{}).moduleName||"warehouse";e.registerModule(i,{namespaced:!0,state:n(null,o,(function(){var e=!0;return{set:function(t,n,o){var u=this.get(n);t(),a({action:"set",key:n,value:o,oldValue:u},e)},remove:function(t,n){var o=this.get(n);t();var u={action:"remove",key:n,value:void 0,oldValue:o};a(u,e)},clearAll:function(t){var n={};this.each((function(e,t){n[t]=e})),t(),Object.keys(n).forEach((function(t){var o=n[t];a({action:"clearAll",key:t,value:void 0,oldValue:o},e)}))},_setForceCommit:function(){e=!0},_getForceCommit:function(){return e},_unsetForceCommit:function(){e=!1}}})),mutations:{WAREHOUSE_CHANGED:function(t,o){e.state[i]=n(o,null,null)}}});var r=Object.freeze(t),c=e.watch((function(e){return e[i]}),(function(e){e!==r&&(o._unsetForceCommit(),o.set(e.key,e.value),o._setForceCommit())}),{sync:!0}),a=function(t,n){void 0===n&&(n=!0),r=t,n&&e.commit(i+"/WAREHOUSE_CHANGED",t)};return function(){null!=c&&c(),o&&o._unsetForceCommit(),e.unregisterModule(i)}},Object.defineProperty(e,"__esModule",{value:!0})}));
